(()=>{var e={5251:(e,o,t)=>{"use strict";var r=t(9196),n=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,o,t){var r,i={},u=null,c=null;for(r in void 0!==t&&(u=""+t),void 0!==o.key&&(u=""+o.key),void 0!==o.ref&&(c=o.ref),o)l.call(o,r)&&!s.hasOwnProperty(r)&&(i[r]=o[r]);if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:n,type:e,key:u,ref:c,props:i,_owner:a.current}}o.Fragment=i,o.jsx=u,o.jsxs=u},5893:(e,o,t)=>{"use strict";e.exports=t(5251)},9196:e=>{"use strict";e.exports=window.React},3967:(e,o)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e="",o=0;o<arguments.length;o++){var t=arguments[o];t&&(e=l(e,i(t)))}return e}function i(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return n.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var o="";for(var t in e)r.call(e,t)&&e[t]&&(o=l(o,t));return o}function l(e,o){return o?e?e+" "+o:e+o:e}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(o,[]))||(e.exports=t)}()}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var i=o[r]={exports:{}};return e[r](i,i.exports,t),i.exports}t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";t.r(r),t.d(r,{AvailableInPro:()=>N,ControlNotice:()=>C,PRO_ON_FREE_FLAG:()=>D,ProBadge:()=>B,ProItem:()=>$,ProModal:()=>O,ProModalTextContext:()=>w,UpgradeToPro:()=>k,UpgradeToProOverlay:()=>h,addProTagToItem:()=>I,addProTagToItems:()=>T,getStringValueWithId:()=>d,isFreeVersion:()=>E,noticeMessage:()=>b,proBadgeClasses:()=>A,proItemOnFree:()=>F,proItemOnFreeClass:()=>M,sortItemsByPro:()=>S,tryOnline:()=>g,upgradeToPro:()=>v,upgradeToProURL:()=>m,useProModal:()=>x});const e=window.wp.components,o=window.wp.element,n=window.wp.i18n,i=window.kubio.utils,l=window.lodash;var a,s=t.n(l);const u={pro:{link:top.kubioUtilsData.homepage_url,pricing_link:top.kubioUtilsData.upgrade_url,typography:(0,n.__)("Available only in the PRO version","kubio"),upgrade:{label:(0,n.__)("Upgrade to PRO","kubio")},try:{label:(0,n.__)("Try PRO Online","kubio"),msg:(0,n.__)("Get unlimited options with Kubio PRO","kubio"),link:top.kubioUtilsData.theme_try_online},subscribe:{label:(0,n.__)("PRO version coming soon","kubio"),msg:(0,n.__)("The PRO version of Kubio will be available soon. Please enter your email below and we’ll announce you when it’s ready.","kubio")},popup:{option:(0,n.__)("This option is available only in the PRO version.","kubio"),innerpage:(0,n.__)("Adding predefined blocks to inner pages is available only in the PRO version.","kubio"),colorscheme:(0,n.__)("Customizing color scheme colors is available only in the PRO version.","kubio"),component:(0,n.__)("This component is available only in the PRO version.","kubio"),gradient:(0,n.__)("Customizing gradient settings is available only in the PRO version.","kubio"),buttonsLimit:(0,n.__)("Adding more than 2 items is available only in the PRO version.","kubio")},infobox:{text:(0,n.__)("Text customization options (font, color, etc) are only available in the PRO version.","kubio"),default:(0,n.__)("More customization options available in the PRO version.","kubio"),icon:(0,n.__)("More color options are available in the PRO version.","kubio"),button:(0,n.__)("More customization options available in the PRO version.","kubio"),menu:(0,n.__)("More menu design options are available in the PRO version.","kubio")},advanced:(0,n.__)("Advanced options are only available in the PRO version.","kubio"),footer:{msg:(0,n.__)("Footer text and customization options are available in the PRO version","kubio")}}},c=!0!==(null===(a=window.kubioUtilsData)||void 0===a?void 0:a.enable_try_online),d=e=>s().get(u,e,""),p=window.wp.url,b=e=>{let o=e.title||d(e.msgid?e.msgid:"pro.infobox.default");const t=e.include?e.include.join(", "):"";return o=o.replace("{{props}}",t),o=o.replace(/\[pro-link\]([\w]+)\[\/pro-link\]/,""),o},m=(e={})=>{const{source:o,content:t,...r}=e;return(0,p.addQueryArgs)(d("pro.pricing_link","_blank"),{utm_medium:"editor",utm_source:o,utm_content:t,upgrade_key:top.kubioAIUpgradeKey||"",...r})},v=(e={})=>{var o;const t=window.open(m(e));null==t||null===(o=t.focus)||void 0===o||o.call(t)};let _=null;const g=(e={})=>{var o,t;if(!_||_.closed){const o=((e={})=>{let o=d("pro.try.link");if(top.kubioUtilsData.last_imported_starter){const[e,t]=top.kubioUtilsData.try_starter_site.split("?");o=e.replace(/\/+$/,"")+`/${top.kubioUtilsData.last_imported_starter}?${t}`}const{source:t,content:r,...n}=e;return o=(0,p.addQueryArgs)(o,{utm_medium:"editor",utm_source:t,utm_content:r,...n}),o})(e);_=window.open(o,"_blank")}null===(o=_)||void 0===o||null===(t=o.focus)||void 0===t||t.call(o)};var f=t(5893);const h=({show:t,message:r,urlArgs:n,flag:l=!(0,i.getCanShowAdvanced)()})=>{const a=l||t,s=(0,o.useCallback)((e=>{e.preventDefault(),v(n)}),[n]);return(0,o.useCallback)((e=>{e.preventDefault(),g(n)}),[n]),a&&(0,f.jsx)("div",{className:"kubio-feature-upgrade-to-pro-overlay",children:(0,f.jsx)("div",{className:"kubio-feature-upgrade-to-pro",children:(0,f.jsxs)("div",{className:"upgrade-to-pro__content",children:[(0,f.jsx)("p",{className:"label-title",children:r||d("pro.try.msg")}),(0,f.jsx)("div",{className:"upgrade-to-pro__content-buttons",children:(0,f.jsx)(e.Button,{className:"btn-upgrade",onMouseUp:s,children:d("pro.upgrade.label")})})]})})})},k=({urlArgs:t={},message:r=null})=>{const n=(0,o.useCallback)((e=>{e.preventDefault(),v(t)}),[t]),i=(0,o.useCallback)((e=>{e.preventDefault(),g(t)}),[t]);return(0,f.jsx)(e.BaseControl,{className:"kubio-feature-upgrade-to-pro",children:(0,f.jsxs)("div",{className:"upgrade-to-pro__content",children:[(0,f.jsx)("p",{className:"label-title",children:r||d("pro.try.msg")}),(0,f.jsxs)("div",{className:"upgrade-to-pro__content-buttons",children:[(0,f.jsx)(e.Button,{className:"btn-upgrade",onMouseUp:n,children:d("pro.upgrade.label")}),!c&&(0,f.jsx)(e.Button,{className:"btn-try",onMouseUp:i,children:d("pro.try.label")})]})]})})},y=window.wp.compose,w=(0,o.createContext)(d("pro.popup.option")),x=()=>(()=>{const[e,t]=(0,o.useState)({default:!1}),r=(o,r="default")=>{t({...e,[r]:o})};return[(0,o.useCallback)((o=>{const{id:t="default"}=o;return!(null==e||!e[t])&&(0,f.jsx)(O,{onClose:()=>{r(!1,t)},...o})}),[e]),r]})(),P=(0,i.wpVersionCompare)("6.3.1","<"),j=e=>{var o,t;e.preventDefault(),e.stopPropagation(),null==e||null===(o=e.nativeEvent)||void 0===o||null===(t=o.stopImmediatePropagation)||void 0===t||t.call(o)},O=(0,o.forwardRef)(((t={})=>{var r;const{onClose:n=s().noop,anchorRef:l,urlArgs:a={},className:u=""}=t,c=(0,y.useInstanceId)(O),d=null!==(r=null==l?void 0:l.current)&&void 0!==r?r:l,p=(0,o.useRef)(),b=(0,o.useCallback)((e=>{const o=null==e?void 0:e.target;p.current===o||p.current.contains(o)||n()}),[n]);(0,i.useOnClickOutside)(p,b);const m=(0,o.useCallback)((e=>{e.detail.modalEl.isSameNode(p.current)||n()}),[]);(0,o.useEffect)((()=>{if(p.current){(e=>{const o=new e.ownerDocument.defaultView.CustomEvent("kubio-pro-modal-showed",{detail:{modalEl:e}});e.ownerDocument.defaultView.dispatchEvent(o)})(p.current);const e=p.current.ownerDocument.defaultView;return e.addEventListener("kubio-pro-modal-showed",m),()=>e.removeEventListener("kubio-pro-modal-showed",m)}}),[m,p]);const v=(0,o.useMemo)((()=>{const e=d;if(!d)return;const o={};return P&&(o.ownerDocument=e.ownerDocument),{getBoundingClientRect:()=>e.getBoundingClientRect(),contextElement:e,...o}}),[d]);return(0,f.jsxs)(f.Fragment,{children:[(0,o.createPortal)((0,f.jsx)("div",{className:"kubio-upgrade-to-pro-popup-slot",children:(0,f.jsx)(e.Popover.Slot,{name:`kubio-upgrade-to-pro-popup-${c}`})}),document.body),(0,f.jsx)(e.Popover,{position:"bottom center",className:`kubio-upgrade-to-pro-popup sidebar-popover-container ${u}`,anchor:d?v:void 0,shift:!0,flip:!0,placement:"bottom",__unstableSlotName:`kubio-upgrade-to-pro-popup-${c}`,focusOnMount:!1,children:(0,f.jsx)("div",{ref:p,onClick:j,onMouseDown:j,children:(0,f.jsx)(R,{urlArgs:a})})})]})}));function R({urlArgs:e}={}){const t=(0,o.useContext)(w);return(0,f.jsx)(k,{urlArgs:e,message:t})}const C=({showLabel:o=!0,label:t,content:r=""})=>(0,f.jsx)(e.BaseControl,{children:(0,f.jsxs)("div",{className:"h-control-notice",children:[o&&(0,f.jsx)("span",{className:"h-control-notice__label",children:t}),(0,f.jsx)("div",{className:"h-control-notice__content",children:r})]})}),N=({displayModal:t=!0,urlArgs:r={},...i}={})=>{const l=(0,o.useRef)(),[a,s]=x(),u=(0,o.useCallback)((e=>{t?(e.preventDefault(),e.stopPropagation(),s(!0)):v(r)}),[]),p=(0,o.useCallback)((()=>{g(r)}),[]);return(0,f.jsx)(e.BaseControl,{ref:l,className:"kubio-feature-available-in-pro",children:(0,f.jsxs)("div",{className:"h-control-notice",children:[(0,f.jsx)("span",{className:"h-control-notice__label",children:(0,n.__)("PRO","kubio")}),(0,f.jsx)("div",{className:"h-control-notice__content",children:(0,f.jsx)("label",{className:"label-title",children:b(i)})}),(0,f.jsxs)(e.Flex,{justify:"flex-start",align:"flex-start",className:"h-control-notice__content",children:[(0,f.jsxs)(e.Button,{isSmall:!0,variant:"primary",onClick:u,children:[d("pro.upgrade.label"),t&&(0,f.jsx)(a,{urlArgs:r,anchorRef:l.current})]}),!t&&!c&&(0,f.jsx)(e.Button,{isSmall:!0,variant:"secondary",onClick:p,children:d("pro.try.label")})]})]})})},A={proItem:"kubio-pro-item",badgeClass:"kubio-pro-item__badge"},D="isProOnFree";function S(e,o=!1){return s().sortBy(e,[function(e){return!0===(null==e?void 0:e[D])}],[o])}function I(e){return s().set(e,D,!0),e}function T(e,o=[]){const t=s().cloneDeep(e);return s().each(t,((e,t)=>{s().isFunction(o)&&(o(e,t)||s().set(e,D,!0)),s().isArray(o)&&(o.includes(s().get(e,"value"))||s().set(e,D,!0))})),t}const F=e=>!0===e||(null==e?void 0:e[D]),M=e=>{const o=[];return F(e)&&o.push(A.proItem),o},B=({item:e})=>F(e)?(0,f.jsx)("div",{className:A.badgeClass,children:(0,n.__)("PRO","kubio")}):null,E=()=>!0;var U=t(3967),L=t.n(U);const $=(0,o.forwardRef)(((e,o)=>{const{tag:t="div",isProItem:r=!0,children:n,...i}=e;return r?(0,f.jsx)(z,{tag:t,ref:o,...i,children:n}):(0,f.jsx)(t,{...i,ref:o,children:n})})),z=(0,o.forwardRef)(((e,t)=>{const{tag:r="div",item:n=!0,onClick:i=s().noop,className:l,children:a,urlArgs:u,propPopoverClass:c="",...d}=e,[p,b]=x(),m=(0,o.useRef)(),v=t||m;let _=null;return _=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(B,{item:n}),(0,f.jsx)(p,{urlArgs:u,anchorRef:v.current,className:c})]}),(0,f.jsxs)(r,{...d,ref:v,className:L()(l,M(n)),onClick:e=>{if(F(n))return e.preventDefault(),e.stopPropagation(),void b(!0);i(e)},children:[a,_]})})),V=window.wp.blocks;(0,window.wp.hooks.addFilter)("kubio.beforeInsertBlock","kubio/pro/blocks",((e,o={})=>{const t=(0,V.getBlockType)(null==e?void 0:e.name);return e.isProOnFree=t.isPro,(0,i.blockIsFromPro)(null==e?void 0:e.name)&&(e.isProOnFree=!0),e.isProOnFree&&(e.disabled=!0,e.isDisabled=!0),e}))})(),(window.kubio=window.kubio||{}).pro=r})();
